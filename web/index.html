<!DOCTYPE html>
<head>
    <!-- meta info -->
    <title id="page-title" translate="no">owo - kate design</title>
    <meta name="theme-color" content="#000000">
    <!-- mobile iOS support -->
    <link rel="apple-touch-icon" href="https://old.plexion.dev/img/ios.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- display -->
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modal.css">
    <!-- icon -->
    <link rel="shortcut icon" type="ico" href="/img/katie4k-small.webp"/>
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--<script src="https://unpkg.com/showdown/dist/showdown.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js" defer></script>-->
    <script type="text/javascript" src="/eel.js"></script>
    <!-- icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- tooltips -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
</head>
<body data-theme="dark">
    <div class="overlay center-full" id="hook_windows"></div>
    <nav>
        <div class="head">
            <h3>Artists</h3>
            <button class="add" onclick="add_artist_modal()"><i class="icon w-16" data-lucide="plus"></i></button>
        </div>
        <ul id="nav"></ul>
    </nav>
    <main class="cards">
        <section class="main cards">
            <section class="card" id="library-grid" style="display: none">
                <h2 class="head" id="library-grid-title"></h2>
                <div class="album-grid" id="library-grid-items"></div>
            </section>
            <section class="card" id="album" style="display: none">
                <button class="head back" onclick="exit_album()"><i class="icon w-16" data-lucide="chevron-left"></i>Back</button>
                <h1 id="album-title"></h1>
                <h2 id="album-artist-title"></h2>
                <ul class="tracklist" id="album-tracklist"></ul>
            </section>
        </section>
        <section class="side cards">
            <section class="card artwork" id="live-artwork" style="display: none">
                <img id="artwork-big">
            </section>
            <section class="card artwork" id="artist-artwork">
                <img id="artwork-big-artist">
            </section>
            <section class="card artwork" id="album-artwork">
                <img id="artwork-big-album">
                <div class="overlay">
                    <button class="update" onclick="refresh_artwork()">Refresh</button>
                </div>
            </section>
        </section>
    </main>
    <footer class="player">
        <ul class="actions left">
            <button class="prev" id="action-skip-back" onclick="eel.player_prev()">
                <i class="icon w-16" data-lucide="skip-back"></i>
            </button>
            <button class="play-pause" id="action-play-pause" data-type="Paused" onclick="eel.player_toggle_play()">
                <i class="icon w-16 playing" fill="currentColor" data-lucide="pause"></i>
                <i class="icon w-16 paused" data-lucide="play"></i>
            </button>
            <button class="next" id="action-skip-next" onclick="eel.player_next()">
                <i class="icon w-16" data-lucide="skip-forward"></i>
            </button>
            <!-- -->
            <button class="shuffle" id="action-shuffle" data-type="false" onclick="player_toggle_shuffle()">
                <i class="icon w-16" data-lucide="shuffle"></i>
            </button>
            <button class="loop" id="action-loop" data-type="0" onclick="player_toggle_loop()">
                <i class="icon w-16 none" data-lucide="repeat"></i>
                <i class="icon w-16 once" data-lucide="repeat-1"></i>
            </button>
        </ul>
        <ul class="player-bar middle">
            <p class="current-time" id="current-time">0:00</p>
            <div class="bar">
                <div class="fill" id="bar-fill" style="width: 0%"></div>
            </div>
            <p class="duration" id="duration">0:00</p>
        </ul>
        <div class="track-info">
            <div class="artwork">
                <img id="artwork">
            </div>
            <div class="info">
                <p class="track" id="track"></p>
                <p class="artist" id="artist"></p>
            </div>
        </div>
        <ul class="actions right">
            <button class="love" id="action-love" disabled onclick="player_toggle_love()">
                <i class="icon w-16" data-lucide="heart"></i>
            </button>
            <button class="volume" id="action-volume" onclick="player_open_volume()">
                <i class="icon w-16" data-lucide="volume-2"></i>
            </button>
            <button class="theme" id="action-theme" onclick="toggle_theme()">
                <i class="icon w-16 dark" data-lucide="moon"></i>
                <i class="icon w-16 oled" data-lucide="moon-star" fill="currentColor"></i>
            </button>
        </ul>
    </footer>
</body>
<script>
    lucide.createIcons();

    tippy(document.getElementById('action-skip-back'),{
        content: 'Previous'
    });
    let play_tip = tippy(document.getElementById('action-play-pause'),{
        content: 'Play'
    });
    tippy(document.getElementById('action-skip-next'),{
        content: 'Forward'
    });

    let shuffle_tip = tippy(document.getElementById('action-shuffle'),{
        content: 'Shuffle'
    });
    let loop_tip = tippy(document.getElementById('action-loop'),{
        content: 'Repeat'
    });
    let theme_tip = tippy(document.getElementById('action-theme'),{
        content: 'Dark theme'
    });
</script>
<script src="js/loop.js"></script>
<script src="js/modal.js"></script>